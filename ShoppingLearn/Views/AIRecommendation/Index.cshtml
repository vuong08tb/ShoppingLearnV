@{
    ViewData["Title"] = "AI G·ª£i √Ω s·∫£n ph·∫©m";
}

<link rel="stylesheet" href="~/css/ai-recommendation.css" />

<div id="ai-recommendation-page">
    <!-- Sidebar: L·ªãch s·ª≠ conversations -->
    <div id="conversation-sidebar" class="sidebar">
        <div class="sidebar-header">
            <h4>L·ªãch s·ª≠ h·ªôi tho·∫°i</h4>
            <button id="toggle-sidebar" class="btn btn-sm btn-secondary">
                <i class="fa fa-chevron-left"></i>
            </button>
        </div>
        <button id="new-conversation-btn" class="btn btn-primary btn-block mb-3">
            <i class="fa fa-plus"></i> H·ªôi tho·∫°i m·ªõi
        </button>
        <div id="conversations-list">
            @if (ViewBag.Conversations != null)
            {
                @foreach (var conv in ViewBag.Conversations as List<ShoppingLearn.Models.AIRecommendation.ConversationViewModel>)
                {
                    <div class="conversation-item @(conv.IsActive ? "active" : "")" data-id="@conv.Id">
                        <div class="conv-title">@conv.Title</div>
                        <div class="conv-date">@conv.UpdatedAt.ToString("dd/MM HH:mm")</div>
                        <button class="delete-conv" data-id="@conv.Id">
                            <i class="fa fa-trash"></i>
                        </button>
                    </div>
                }
            }
        </div>
    </div>

    <!-- Main Chat Area -->
    <div id="chat-area">
        <div id="chat-header">
            <!-- Toggle sidebar button (hi·ªán khi sidebar collapsed) -->
            <button id="open-sidebar-btn" class="btn btn-light" style="display: none;">
                <i class="fa fa-bars"></i> Menu
            </button>
            <div class="chat-header-content">
                <h3><i class="fa fa-robot"></i> AI G·ª£i √Ω s·∫£n ph·∫©m th·ªùi trang</h3>
                <p class="text-muted">H·ªèi t√¥i v·ªÅ s·∫£n ph·∫©m ph√π h·ª£p v·ªõi phong c√°ch c·ªßa b·∫°n</p>
            </div>
        </div>

        <div id="chat-messages">
            <div class="welcome-message">
                <h4>Xin ch√†o! üëã</h4>
                <p>T√¥i l√† tr·ª£ l√Ω AI c√° nh√¢n h√≥a c·ªßa b·∫°n. H√£y cho t√¥i bi·∫øt b·∫°n ƒëang t√¨m ki·∫øm g√¨:</p>
                <ul>
                    <li>üéØ "G·ª£i √Ω cho t√¥i √°o thun nam phong c√°ch casual"</li>
                    <li>üëî "T∆∞ v·∫•n trang ph·ª•c ƒëi l√†m cho n·ªØ"</li>
                    <li>üëó "T√¨m v√°y d·ª± ti·ªác d∆∞·ªõi 1 tri·ªáu"</li>
                    <li>üß• "√Åo kho√°c n√†o ph√π h·ª£p v·ªõi th·ªùi ti·∫øt m√πa ƒë√¥ng?"</li>
                </ul>
            </div>
        </div>

        <div id="chat-input-container">
            <textarea id="chat-input" placeholder="Nh·∫≠p c√¢u h·ªèi c·ªßa b·∫°n..." rows="2"></textarea>
            <button id="send-btn" class="btn btn-primary">
                <i class="fa fa-paper-plane"></i> G·ª≠i
            </button>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/ai-recommendation.js"></script>
}
